<!DOCTYPE html>
<html>
<head>
  <title>Login - Roj Bachat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
</head>

<body style="font-family: Arial; padding: 20px;">
  <h2>Roj Bachat Login</h2>

  <input id="email" type="email" placeholder="Email" style="width:100%;padding:10px;margin-top:10px;">
  <input id="password" type="password" placeholder="Password" style="width:100%;padding:10px;margin-top:10px;">
  <button onclick="loginUser()" 
          style="width:100%;padding:12px;margin-top:15px;background:black;color:white;font-size:16px;">
    Login
  </button>

  <p id="msg" style="color:red;margin-top:10px;"></p>

  <script>
    // ðŸ”¥ Your Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyC98Lxjn6jn-V9NqjcOGluL04EAX4kzpmY",
      authDomain: "rojbachat-7e5a8.firebaseapp.com",
      projectId: "rojbachat-7e5a8",
      storageBucket: "rojbachat-7e5a8.firebasestorage.app",
      messagingSenderId: "790739371754",
      appId: "1:790739371754:web:9b0bd71f2579d664747993"
    };

    // ðŸ”¥ Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // ðŸ” Login function
    function loginUser() {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("password").value;
      const msg = document.getElementById("msg");

      msg.innerHTML = "Processing...";

      auth.signInWithEmailAndPassword(email, pass)
        .then(() => {
          msg.style.color = "green";
          msg.innerHTML = "Login Successful! Redirecting...";

          setTimeout(() => {
            window.location.href = "index.html";
          }, 800);
        })
        .catch((error) => {
          msg.style.color = "red";
          msg.innerHTML = error.message;
        });
    }

    // ðŸ”„ User Already Logged In? â†’ redirect
    auth.onAuthStateChanged((user) => {
      if (user) {
        window.location.href = "index.html";
      }
    });
  </script>

</body>
</html>
